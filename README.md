# var-snowflake
瘦身的雪花算法

### 简介
生成的64bit整数, 组成部分由高位到低位如下:

1. 16bit - 填充0
2. 29bit - 时间戳, 单位秒, 表示从基线时间开始的秒数, 能支持17年
3. 7bit  - node编号, 最大支持128个实例
4. 12bit - seq序号, 最大支持同一秒内生成4096个ID

按照这个配置, 每秒最大ID生成数 = 128 * 4096 = 524288个.

生成的base64字符串最大长度为8.

### 使用方法:
见`var_snowflake_test.go`文件。

### 测试结果:
以下测试结果都以2020年1月1日0时0分0秒作为基线时间
#### 1.电脑时间为2020年12月4日
    === RUN   TestNode_Generate
    i7jqMlPP = 11011110101000110010101010000001000000000000 = 15299523383296
    i7jqMlPl = 11011110101000110010101010000001000000000001 = 15299523383297
    i7jqMlP1 = 11011110101000110010101010000001000000000010 = 15299523383298
    i7jqMlPi = 11011110101000110010101010000001000000000011 = 15299523383299
    i7jqMlP3 = 11011110101000110010101010000001000000000100 = 15299523383300
    -----------------
    i7jq4lPP = 11011110101000110010101100000001000000000000 = 15299523907584
    i7jq4lPl = 11011110101000110010101100000001000000000001 = 15299523907585
    i7jq4lP1 = 11011110101000110010101100000001000000000010 = 15299523907586
    i7jq4lPi = 11011110101000110010101100000001000000000011 = 15299523907587
    i7jq4lP3 = 11011110101000110010101100000001000000000100 = 15299523907588
    -----------------
    i7jqDlPP = 11011110101000110010101110000001000000000000 = 15299524431872
    i7jqDlPl = 11011110101000110010101110000001000000000001 = 15299524431873
    i7jqDlP1 = 11011110101000110010101110000001000000000010 = 15299524431874
    i7jqDlPi = 11011110101000110010101110000001000000000011 = 15299524431875
    i7jqDlP3 = 11011110101000110010101110000001000000000100 = 15299524431876
    -----------------
    --- PASS: TestNode_Generate (3.00s)

#### 2.把电脑时钟调到2035年12月4日
    === RUN   TestNode_Generate
    _LarJlPP = 111011111001100111101101110000000001000000000000 = 263444397821952
    _LarJlPl = 111011111001100111101101110000000001000000000001 = 263444397821953
    _LarJlP1 = 111011111001100111101101110000000001000000000010 = 263444397821954
    _LarJlPi = 111011111001100111101101110000000001000000000011 = 263444397821955
    _LarJlP3 = 111011111001100111101101110000000001000000000100 = 263444397821956
    -----------------
    _LarqlPP = 111011111001100111101101110010000001000000000000 = 263444398346240
    _LarqlPl = 111011111001100111101101110010000001000000000001 = 263444398346241
    _LarqlP1 = 111011111001100111101101110010000001000000000010 = 263444398346242
    _LarqlPi = 111011111001100111101101110010000001000000000011 = 263444398346243
    _LarqlP3 = 111011111001100111101101110010000001000000000100 = 263444398346244
    -----------------
    _Lar0lPP = 111011111001100111101101110100000001000000000000 = 263444398870528
    _Lar0lPl = 111011111001100111101101110100000001000000000001 = 263444398870529
    _Lar0lP1 = 111011111001100111101101110100000001000000000010 = 263444398870530
    _Lar0lPi = 111011111001100111101101110100000001000000000011 = 263444398870531
    _Lar0lP3 = 111011111001100111101101110100000001000000000100 = 263444398870532
    -----------------
    --- PASS: TestNode_Generate (3.00s)

